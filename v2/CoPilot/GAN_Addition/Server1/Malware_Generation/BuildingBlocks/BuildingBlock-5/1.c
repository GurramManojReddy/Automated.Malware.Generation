//-----1-----

#include <Windows.h>
#include <stdio.h>
#include <tchar.h>
void DLL_Injection(char *dll, int process)
{
	HANDLE hProcess = OpenProcess(PROCESS_ALL_ACCESS, FALSE, process);
	LPVOID dllMem = VirtualAllocEx(hProcess, NULL, strlen(dll), MEM_COMMIT, PAGE_READWRITE);
	WriteProcessMemory(hProcess, dllMem, dll, strlen(dll), NULL);
	HANDLE hThread = CreateRemoteThread(hProcess, NULL, 0, (LPTHREAD_START_ROUTINE)LoadLibraryA, dllMem, 0, NULL);
	WaitForSingleObject(hThread, INFINITE);
	CloseHandle(hProcess);
}
