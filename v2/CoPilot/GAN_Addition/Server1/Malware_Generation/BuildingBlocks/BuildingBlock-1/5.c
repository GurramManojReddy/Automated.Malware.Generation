#include <stdio.h>
#include <windows.h>

BOOL Debugger_Identification();
BOOL Debugger_Identification()
{
	BOOL bIsDebugger = FALSE;
	HANDLE hProcess = GetCurrentProcess();
	if (hProcess != INVALID_HANDLE_VALUE)
	{
		BOOL bIsDebugged = FALSE;
		if (CheckRemoteDebuggerPresent(hProcess, &bIsDebugged) == TRUE)
		{
			if (bIsDebugged == TRUE)
			{
				bIsDebugger = TRUE;
			}
		}
	}
	return bIsDebugger;
}