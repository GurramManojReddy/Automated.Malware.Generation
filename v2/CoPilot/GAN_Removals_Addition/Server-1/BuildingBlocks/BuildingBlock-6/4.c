//-----1-----

#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <windows.h>
int Load_From_File(void *file, void *buffer);
int Load_From_File(void *file, void *buffer) {
    HANDLE hFile = CreateFile(file, GENERIC_READ, FILE_SHARE_READ, NULL, OPEN_EXISTING, FILE_ATTRIBUTE_NORMAL, NULL);
    if (hFile == INVALID_HANDLE_VALUE) {
        printf("Open file error!");
        return -1;
    }
    int fileSize = GetFileSize(hFile, NULL);
    if (fileSize == INVALID_FILE_SIZE) {
        printf("Get file size error!");
        return -1;
    }
    buffer = malloc(fileSize + 1);
    if (buffer == NULL) {
        printf("Allocate memory error!");
        return -1;
    }
    DWORD dwBytesRead;
    BOOL bResult = ReadFile(hFile, buffer, fileSize, &dwBytesRead, NULL);
    if (!bResult) {
        printf("Read file error!");
        return -1;
    }
    CloseHandle(hFile);
    ((char *)buffer)[fileSize] = '\0';
    return fileSize;
}