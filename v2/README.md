# GANs Section

## Introduction

Implementation of GANs for adversarial malware generation

### Goal
This section primarily deals with the implementation of three GANs for generating adversarial malware examples:
1) GAN-1: LSGAN, which is the implementation of the paper "[LSGAN-AT: enhancing malware detector robustness against adversarial examples](https://cybersecurity.springeropen.com/articles/10.1186/s42400-021-00102-9)"
2) GAN-2: MalLSGAN, which is the implementation of the paper "[Mal-LSGAN: An Effective Adversarial Malware Example Generation Model](https://ieeexplore.ieee.org/document/9685442)"
3) GAN-3: MalGAN, which is the implementation of the paper "[Generating Adversarial Malware Examples for Black-Box Attacks Based on GAN](https://arxiv.org/abs/1702.05983)"

# Repository

### Organization

It consists of the implementation of each GAN and the client-side code to integrate the GANs with the GitHub Copilot code generation.

### Dependencies

* Ran the GANs and client code in a Ubuntu 22.04.3 LTS python virtual environment
* Compiled using Python 3.10.12

# Running

### Setting up virtual environment and Installing Requirements

In order to not have any dependency issues, set up a python virtual environment with the given requirements:

Setup a python virtual environment as follows:
```C
python -m venv /path/to/new/virtual/environment
```

Activate the python virtual environement:
```C
python -m venv /path/to/new/virtual/environment
```

Install the requirements:
```C
pip install -r requirements.txt
```

Next, I will show the steps for LSGAN and the same is applicable for other GANs

### Training the GANs
```C
python3 LSGAN_EXE.py --train <malware_dir> <goodware_dir> <num_features> <train_size> <cur_fold_num>
```

### Testing the GANs
```C
python3 LSGAN_EXE.py --test <file> <num_features> <train_size> <cur_fold_num> <pred_save_path>
```

### Attacking the GANs
```C
python3 LSGAN_EXE.py --attack <malware_file> <num_features> <train_size> <cur_fold_num> <json_save_path>
```

### Running the client-side code
```C
python3 client.py <model_name> <label> <num_iterations> <server_ip_address>
```

* `<model_name>` takes either `LSGAN`, `MalLSGAN`, or `MalGAN`
* `<label>` takes either `EXE` or `DLL`
